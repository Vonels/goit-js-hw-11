{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '53269765-cd39f78e40f469f4b1e9f0733';\nconst BASE_URL = 'https://pixabay.com/api/';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport async function getImagesByQuery(query) {\n  const response = await axios.get('', {\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  });\n\n  return response.data.hits;\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nlet lightbox;\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n\nexport function createGallery(images) {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n        <li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n          </a>\n\n          <ul class=\"info\">\n            <li><b>Likes</b> ${likes}</li>\n            <li><b>Views</b> ${views}</li>\n            <li><b>Comments</b> ${comments}</li>\n            <li><b>Downloads</b> ${downloads}</li>\n          </ul>\n        </li>\n      `\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('beforeend', markup);\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n","import { getImagesByQuery } from './js/pixabay-api';\nimport { clearGallery, createGallery } from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', onSearch);\n\nasync function onSearch(event) {\n  event.preventDefault();\n\n  const searchValue = event.currentTarget.elements['search-text'].value.trim();\n\n  if (!searchValue) {\n    iziToast.warning({\n      message: 'Please enter a search query ðŸ™‚',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  try {\n    const images = await getImagesByQuery(searchValue);\n\n    if (!images.length) {\n      iziToast.info({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n      return;\n    }\n\n    createGallery(images);\n  } catch (error) {\n    iziToast.error({\n      message: 'Something went wrong. Please try again later.',\n      position: 'topRight',\n    });\n  } finally {\n    hideLoader();\n    form.reset();\n  }\n}\n\nfunction showLoader() {\n  loader.classList.remove('boost');\n}\n\nfunction hideLoader() {\n  loader.classList.add('boost');\n}\n"],"names":["API_KEY","BASE_URL","axios","getImagesByQuery","query","gallery","lightbox","clearGallery","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","form","loader","onSearch","event","searchValue","iziToast","showLoader","hideLoader"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEjBC,EAAM,SAAS,QAAUD,EAElB,eAAeE,EAAiBC,EAAO,CAW5C,OAViB,MAAMF,EAAM,IAAI,GAAI,CACnC,OAAQ,CACN,IAAKF,EACL,EAAGI,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,GAEe,KAAK,IACvB,CChBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIC,EAEG,SAASC,GAAe,CAC7BF,EAAQ,UAAY,EACtB,CAEO,SAASG,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,0CAE8BL,CAAa;AAAA,8CACTD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,+BAIzCC,CAAK;AAAA,+BACLC,CAAK;AAAA,kCACFC,CAAQ;AAAA,mCACPC,CAAS;AAAA;AAAA;AAAA,OAIvC,EACA,KAAK,EAAE,EAEVZ,EAAQ,mBAAmB,YAAaK,CAAM,EAEzCJ,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAIY,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CC1CA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAK,iBAAiB,SAAUE,CAAQ,EAExC,eAAeA,EAASC,EAAO,CAC7BA,EAAM,eAAc,EAEpB,MAAMC,EAAcD,EAAM,cAAc,SAAS,aAAa,EAAE,MAAM,OAEtE,GAAI,CAACC,EAAa,CAChBC,EAAS,QAAQ,CACf,QAAS,iCACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDjB,IACAkB,IAEA,GAAI,CACF,MAAMhB,EAAS,MAAMN,EAAiBoB,CAAW,EAEjD,GAAI,CAACd,EAAO,OAAQ,CAClBe,EAAS,KAAK,CACZ,QACE,2EACF,SAAU,UAClB,CAAO,EACD,MACD,CAEDhB,EAAcC,CAAM,CACrB,MAAe,CACde,EAAS,MAAM,CACb,QAAS,gDACT,SAAU,UAChB,CAAK,CACL,QAAY,CACRE,IACAP,EAAK,MAAK,CACX,CACH,CAEA,SAASM,GAAa,CACpBL,EAAO,UAAU,OAAO,OAAO,CACjC,CAEA,SAASM,GAAa,CACpBN,EAAO,UAAU,IAAI,OAAO,CAC9B"}